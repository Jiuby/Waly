{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inicio | Waly</title>
    <link rel="shortcut icon" href="{%  static 'img/logo.png' %}">

    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .container h1 {
            font-size: 3em;
        }
    </style>
</head>
<body>
<h1>¡Hola {{ nombre_completo }}!</h1>

<script>
    window.addEventListener('load', function () {
        // Crear un div que cubra toda la pantalla
        var cover = document.createElement('div');
        cover.style.position = 'fixed';
        cover.style.top = '0';
        cover.style.left = '0';
        cover.style.width = '100%';
        cover.style.height = '100%';
        cover.style.backgroundColor = '#fdfbec';
        cover.style.display = 'flex';
        cover.style.justifyContent = 'center';
        cover.style.alignItems = 'center';
        cover.style.animation = 'disappear 1.5s forwards';

        // Crear el div del loader
        var loader = document.createElement('div');
        loader.className = 'loader';
        loader.style.display = 'inline-grid';

        // Crear los pseudo-elementos :before y :after con JS
        var loaderBefore = document.createElement('div');
        var loaderAfter = document.createElement('div');

        [loaderBefore, loaderAfter].forEach(function (pseudo) {
            pseudo.style.content = '""';
            pseudo.style.height = '27px';
            pseudo.style.aspectRatio = '5';
            pseudo.style.setProperty('--c', '#000 90deg, #0000 0');
            pseudo.style.background = `
                conic-gradient(from 135deg at top, var(--c)),
                conic-gradient(from -45deg at bottom, var(--c)) 12.5% 100%
            `;
            pseudo.style.backgroundSize = '20% 50%';
            pseudo.style.backgroundRepeat = 'repeat-x';
            pseudo.style.clipPath = 'inset(0 60% 0 0)';
            pseudo.style.animation = 'l7 0.8s infinite linear alternate';
        });

        // Añadir estilos específicos para :after
        loaderAfter.style.animationDirection = 'alternate-reverse';

        // Añadir los pseudo-elementos al loader
        loader.appendChild(loaderBefore);
        loader.appendChild(loaderAfter);

        // Añadir el loader al contenedor de la pantalla completa
        cover.appendChild(loader);

        // Añadir el contenedor al body
        document.body.appendChild(cover);

        // Definir las animaciones en JS
        var styleSheet = document.createElement('style');
        styleSheet.type = 'text/css';
        styleSheet.innerText = `
            @keyframes disappear {
                99% {
                    opacity: 1;
                }
                100% {
                    opacity: 0;
                    visibility: hidden;
                }
            }

            @keyframes l7 {
                to { clip-path: inset(0 0 0 60%); }
            }
        `;
        document.head.appendChild(styleSheet);
    });
</script>

</body>
</html>
